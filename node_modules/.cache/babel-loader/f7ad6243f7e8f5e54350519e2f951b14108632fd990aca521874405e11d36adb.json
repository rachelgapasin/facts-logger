{"ast":null,"code":"import React,{useState}from\"react\";import supabase from\"./supabase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CATEGORIES=[{name:\"technology\",color:\"#3b82f6\"},{name:\"science\",color:\"#16a34a\"},{name:\"finance\",color:\"#ef4444\"},{name:\"society\",color:\"#eab308\"},{name:\"entertainment\",color:\"#db2777\"},{name:\"health\",color:\"#14b8a6\"},{name:\"history\",color:\"#f97316\"},{name:\"news\",color:\"#8b5cf6\"}];function Fact(_ref){let{fact,setFacts}=_ref;const[isUpdating,setIsUpdating]=useState(false);const isDisputed=fact.votesInteresting+fact.votesMindblowing<fact.votesFalse;async function handleVote(columnName){setIsUpdating(true);const{data:updatedFact,error}=await supabase.from(\"facts\").update({[columnName]:fact[columnName]+1}).eq(\"id\",fact.id).select();setIsUpdating(false);if(!error)setFacts(facts=>facts.map(f=>f.id===fact.id?updatedFact[0]:f));}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"li\",{className:\"fact\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[isDisputed?/*#__PURE__*/_jsx(\"span\",{className:\"disputed\",children:\"[\\u26D4\\uFE0F DISPUTED]\"}):null,fact.text,/*#__PURE__*/_jsx(\"a\",{href:fact.source,target:\"_blank\",rel:\"noreferrer\",className:\"source\",children:\"(Source)\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"tag\",style:{backgroundColor:CATEGORIES.find(category=>category.name===fact.category).color},children:fact.category}),/*#__PURE__*/_jsxs(\"div\",{className:\"vote-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote(\"votesInteresting\"),disabled:isUpdating,children:[\"\\uD83D\\uDC4D \",fact.votesInteresting]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote(\"votesMindblowing\"),disabled:isUpdating,children:[\"\\uD83E\\uDD2F \",fact.votesMindblowing]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleVote(\"votesFalse\"),disabled:isUpdating,children:[\"\\u26D4\\uFE0F \",fact.votesFalse]})]})]})});}export default Fact;","map":{"version":3,"names":["React","useState","supabase","jsx","_jsx","jsxs","_jsxs","CATEGORIES","name","color","Fact","_ref","fact","setFacts","isUpdating","setIsUpdating","isDisputed","votesInteresting","votesMindblowing","votesFalse","handleVote","columnName","data","updatedFact","error","from","update","eq","id","select","facts","map","f","children","className","text","href","source","target","rel","style","backgroundColor","find","category","onClick","disabled"],"sources":["/Users/rachelgapasin/Documents/websites/facts-logger/src/Fact.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport supabase from \"./supabase\";\n\nconst CATEGORIES = [\n  { name: \"technology\", color: \"#3b82f6\" },\n  { name: \"science\", color: \"#16a34a\" },\n  { name: \"finance\", color: \"#ef4444\" },\n  { name: \"society\", color: \"#eab308\" },\n  { name: \"entertainment\", color: \"#db2777\" },\n  { name: \"health\", color: \"#14b8a6\" },\n  { name: \"history\", color: \"#f97316\" },\n  { name: \"news\", color: \"#8b5cf6\" },\n];\n\nfunction Fact({ fact, setFacts }) {\n  const [isUpdating, setIsUpdating] = useState(false);\n  const isDisputed =\n    fact.votesInteresting + fact.votesMindblowing < fact.votesFalse;\n\n  async function handleVote(columnName) {\n    setIsUpdating(true);\n    const { data: updatedFact, error } = await supabase\n      .from(\"facts\")\n      .update({ [columnName]: fact[columnName] + 1 })\n      .eq(\"id\", fact.id)\n      .select();\n    setIsUpdating(false);\n\n    if (!error)\n      setFacts((facts) =>\n        facts.map((f) => (f.id === fact.id ? updatedFact[0] : f))\n      );\n  }\n\n  return (\n    <div>\n      <li className=\"fact\">\n        <p>\n          {isDisputed ? <span className=\"disputed\">[‚õîÔ∏è DISPUTED]</span> : null}\n          {fact.text}\n          <a\n            href={fact.source}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            className=\"source\"\n          >\n            (Source)\n          </a>\n        </p>\n        <span\n          className=\"tag\"\n          style={{\n            backgroundColor: CATEGORIES.find(\n              (category) => category.name === fact.category\n            ).color,\n          }}\n        >\n          {fact.category}\n        </span>\n        <div className=\"vote-buttons\">\n          <button\n            onClick={() => handleVote(\"votesInteresting\")}\n            disabled={isUpdating}\n          >\n            üëç {fact.votesInteresting}\n          </button>\n          <button\n            onClick={() => handleVote(\"votesMindblowing\")}\n            disabled={isUpdating}\n          >\n            ü§Ø {fact.votesMindblowing}\n          </button>\n          <button\n            onClick={() => handleVote(\"votesFalse\")}\n            disabled={isUpdating}\n          >\n            ‚õîÔ∏è {fact.votesFalse}\n          </button>\n        </div>\n      </li>\n    </div>\n  );\n}\n\nexport default Fact;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}