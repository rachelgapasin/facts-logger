{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import supabase from\"./supabase\";import\"./style.css\";import Header from\"./Header\";import NewFactForm from\"./NewFactForm\";import CategoryFilter from\"./CategoryFilter\";import FactsList from\"./FactsList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const CATEGORIES=[{name:\"technology\",color:\"#3b82f6\"},{name:\"science\",color:\"#16a34a\"},{name:\"finance\",color:\"#ef4444\"},{name:\"society\",color:\"#eab308\"},{name:\"entertainment\",color:\"#db2777\"},{name:\"health\",color:\"#14b8a6\"},{name:\"history\",color:\"#f97316\"},{name:\"news\",color:\"#8b5cf6\"}];function App(){const[showForm,setShowForm]=useState(false);const[facts,setFacts]=useState([]);const[isLoading,setIsLoading]=useState(false);const[currentCategory,setCurrentCategory]=useState(\"all\");useEffect(function(){async function getFacts(){setIsLoading(true);let query=supabase.from(\"facts\").select(\"*\");if(currentCategory!==\"all\")query=query.eq(\"category\",currentCategory);const{data:facts,error}=await query.order(\"votesInteresting\",{ascending:false}).limit(1000);if(!error)setFacts(facts);else alert(\"There was a problem getting the data.\");setIsLoading(false);}getFacts();},[currentCategory]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{showForm:showForm,setShowForm:setShowForm}),showForm?/*#__PURE__*/_jsx(NewFactForm,{setFacts:setFacts,categories:CATEGORIES,setShowForm:setShowForm}):null,/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsx(CategoryFilter,{categories:CATEGORIES,setCurrentCategory:setCurrentCategory}),isLoading?/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:\"Loading...\"}):/*#__PURE__*/_jsx(FactsList,{facts:facts,setFacts:setFacts})]})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","supabase","Header","NewFactForm","CategoryFilter","FactsList","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CATEGORIES","name","color","App","showForm","setShowForm","facts","setFacts","isLoading","setIsLoading","currentCategory","setCurrentCategory","getFacts","query","from","select","eq","data","error","order","ascending","limit","alert","children","categories","className"],"sources":["/Users/rachelgapasin/Documents/websites/facts-logger/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport supabase from \"./supabase\";\nimport \"./style.css\";\nimport Header from \"./Header\";\nimport NewFactForm from \"./NewFactForm\";\nimport CategoryFilter from \"./CategoryFilter\";\nimport FactsList from \"./FactsList\";\n\nconst CATEGORIES = [\n  { name: \"technology\", color: \"#3b82f6\" },\n  { name: \"science\", color: \"#16a34a\" },\n  { name: \"finance\", color: \"#ef4444\" },\n  { name: \"society\", color: \"#eab308\" },\n  { name: \"entertainment\", color: \"#db2777\" },\n  { name: \"health\", color: \"#14b8a6\" },\n  { name: \"history\", color: \"#f97316\" },\n  { name: \"news\", color: \"#8b5cf6\" },\n];\n\nfunction App() {\n  const [showForm, setShowForm] = useState(false);\n  const [facts, setFacts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentCategory, setCurrentCategory] = useState(\"all\");\n\n  useEffect(function () {\n    async function getFacts() {\n      setIsLoading(true);\n\n      let query = supabase.from(\"facts\").select(\"*\");\n\n      if (currentCategory !== \"all\")\n        query = query.eq(\"category\", currentCategory);\n\n      const { data: facts, error } = await query\n        .order(\"votesInteresting\", { ascending: false })\n        .limit(1000);\n\n      if (!error) setFacts(facts);\n      else alert(\"There was a problem getting the data.\");\n\n      setIsLoading(false);\n    }\n    getFacts();\n  }, [currentCategory]);\n\n  return (\n    <>\n      <Header showForm={showForm} setShowForm={setShowForm} />\n      {showForm ? (\n        <NewFactForm\n          setFacts={setFacts}\n          categories={CATEGORIES}\n          setShowForm={setShowForm}\n        />\n      ) : null}\n      <main className=\"main\">\n        <CategoryFilter\n          categories={CATEGORIES}\n          setCurrentCategory={setCurrentCategory}\n        />\n        {isLoading ? (\n          <p className=\"message\">Loading...</p>\n        ) : (\n          <FactsList facts={facts} setFacts={setFacts} />\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}